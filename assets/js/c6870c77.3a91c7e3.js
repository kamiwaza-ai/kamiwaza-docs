"use strict";(self.webpackChunkkamiwaza_docs=self.webpackChunkkamiwaza_docs||[]).push([[2786],{87354:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"installation/gpu_setup_guide","title":"Windows GPU Setup Guide","description":"Overview","source":"@site/docs/installation/gpu_setup_guide.md","sourceDirName":"installation","slug":"/installation/gpu_setup_guide","permalink":"/installation/gpu_setup_guide","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Windows Installation Guide","permalink":"/installation/windows_installation_guide"},"next":{"title":"Quickstart","permalink":"/quickstart"}}');var l=i(74848),r=i(28453);const t={},a="Windows GPU Setup Guide",o={},d=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"System Requirements",id:"system-requirements",level:3},{value:"WSL2 Requirements",id:"wsl2-requirements",level:3},{value:"NVIDIA GPU Setup",id:"nvidia-gpu-setup",level:2},{value:"Supported Hardware",id:"supported-hardware",level:3},{value:"Driver Requirements",id:"driver-requirements",level:3},{value:"Installation Steps",id:"installation-steps",level:3},{value:"1. Install NVIDIA Drivers",id:"1-install-nvidia-drivers",level:4},{value:"2. Install NVIDIA CUDA Toolkit for WSL",id:"2-install-nvidia-cuda-toolkit-for-wsl",level:4},{value:"3. Verify GPU Access in WSL",id:"3-verify-gpu-access-in-wsl",level:4},{value:"Configuration Files",id:"configuration-files",level:3},{value:".wslconfig (Windows)",id:"wslconfig-windows",level:4},{value:"Environment Variables (WSL)",id:"environment-variables-wsl",level:4},{value:"Intel Arc GPU Setup",id:"intel-arc-gpu-setup",level:2},{value:"Supported Hardware",id:"supported-hardware-1",level:3},{value:"Driver Requirements",id:"driver-requirements-1",level:3},{value:"Installation Steps",id:"installation-steps-1",level:3},{value:"1. Install Intel Arc Drivers",id:"1-install-intel-arc-drivers",level:4},{value:"2. Install Intel OpenCL Runtime and oneAPI (Recommended)",id:"2-install-intel-opencl-runtime-and-oneapi-recommended",level:4},{value:"3. Alternative: Install OpenCL Runtime Only",id:"3-alternative-install-opencl-runtime-only",level:4},{value:"4. Verify GPU Access in WSL",id:"4-verify-gpu-access-in-wsl",level:4},{value:"Configuration Files",id:"configuration-files-1",level:3},{value:".wslconfig (Windows)",id:"wslconfig-windows-1",level:4},{value:"Environment Variables (WSL)",id:"environment-variables-wsl-1",level:4},{value:"Intel Integrated GPU Setup",id:"intel-integrated-gpu-setup",level:2},{value:"Supported Hardware",id:"supported-hardware-2",level:3},{value:"Driver Requirements",id:"driver-requirements-2",level:3},{value:"Installation Steps",id:"installation-steps-2",level:3},{value:"1. Install Intel Graphics Drivers",id:"1-install-intel-graphics-drivers",level:4},{value:"2. Install Intel OpenCL Runtime",id:"2-install-intel-opencl-runtime",level:4},{value:"3. Verify GPU Access in WSL",id:"3-verify-gpu-access-in-wsl-1",level:4},{value:"GPU Detection Scripts",id:"gpu-detection-scripts",level:2},{value:"Automatic Detection (PowerShell)",id:"automatic-detection-powershell",level:3},{value:"GPU Setup Scripts",id:"gpu-setup-scripts",level:3},{value:"NVIDIA Setup (setup_nvidia_gpu.sh)",id:"nvidia-setup-setup_nvidia_gpush",level:4},{value:"Intel Arc Setup (setup_intel_arc_gpu.sh)",id:"intel-arc-setup-setup_intel_arc_gpush",level:4},{value:"Intel Integrated Setup (setup_intel_integrated_gpu.sh)",id:"intel-integrated-setup-setup_intel_integrated_gpush",level:4},{value:"Advanced Intel GPU Setup for AI Workloads",id:"advanced-intel-gpu-setup-for-ai-workloads",level:2},{value:"Building llama.cpp with Intel GPU Support",id:"building-llamacpp-with-intel-gpu-support",level:3},{value:"Testing Intel GPU Acceleration",id:"testing-intel-gpu-acceleration",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common GPU Issues",id:"common-gpu-issues",level:3},{value:"GPU Not Detected in WSL",id:"gpu-not-detected-in-wsl",level:4},{value:"Driver Compatibility Issues",id:"driver-compatibility-issues",level:4},{value:"Intel GPU Specific Issues",id:"intel-gpu-specific-issues",level:4},{value:"Performance Issues",id:"performance-issues",level:4},{value:"GPU Status Verification",id:"gpu-status-verification",level:3},{value:"NVIDIA GPU",id:"nvidia-gpu",level:4},{value:"Intel GPU",id:"intel-gpu",level:4},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"WSL Configuration (.wslconfig)",id:"wsl-configuration-wslconfig",level:3},{value:"Environment Optimization",id:"environment-optimization",level:3},{value:"GPU Memory Management",id:"gpu-memory-management",level:3},{value:"Support and Resources",id:"support-and-resources",level:2},{value:"Official Documentation",id:"official-documentation",level:3},{value:"Community Resources",id:"community-resources",level:3},{value:"Troubleshooting Tools",id:"troubleshooting-tools",level:3}];function c(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"windows-gpu-setup-guide",children:"Windows GPU Setup Guide"})}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(n.p,{children:"Kamiwaza supports hardware acceleration on Windows through WSL2 with the following GPU configurations:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"NVIDIA GPUs"})," (RTX series, GTX series, Quadro series)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Intel Arc GPUs"})," (A3xx, A5xx, A7xx series)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Intel Integrated GPUs"})," (UHD Graphics, Iris Xe)"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsx)(n.h3,{id:"system-requirements",children:"System Requirements"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Windows 11 (Build 22000 or later)"}),"\n",(0,l.jsx)(n.li,{children:"WSL2 enabled and updated"}),"\n",(0,l.jsx)(n.li,{children:"Latest GPU drivers installed"}),"\n",(0,l.jsx)(n.li,{children:"Compatible GPU hardware"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"wsl2-requirements",children:"WSL2 Requirements"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"WSL2 kernel version 5.10.60.1 or later"}),"\n",(0,l.jsx)(n.li,{children:"Windows 11 with GPU virtualization support"}),"\n",(0,l.jsx)(n.li,{children:"GPU drivers with WSL2 compatibility"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"nvidia-gpu-setup",children:"NVIDIA GPU Setup"}),"\n",(0,l.jsx)(n.h3,{id:"supported-hardware",children:"Supported Hardware"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"RTX 40 Series"}),": RTX 4090, RTX 4080, RTX 4070 Ti, RTX 4070, RTX 4060 Ti, RTX 4060"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"RTX 30 Series"}),": RTX 3090, RTX 3080, RTX 3070, RTX 3060 Ti, RTX 3060"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"RTX 20 Series"}),": RTX 2080 Ti, RTX 2080, RTX 2070, RTX 2060"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"GTX 16 Series"}),": GTX 1660 Ti, GTX 1660, GTX 1650"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"GTX 10 Series"}),": GTX 1080 Ti, GTX 1080, GTX 1070, GTX 1060"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"driver-requirements",children:"Driver Requirements"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Minimum"}),": NVIDIA Driver 470.82 or later"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Recommended"}),": NVIDIA Driver 535.98 or later"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Latest"}),": Download from ",(0,l.jsx)(n.a,{href:"https://www.nvidia.com/Download/index.aspx",children:"NVIDIA Driver Downloads"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"installation-steps",children:"Installation Steps"}),"\n",(0,l.jsx)(n.h4,{id:"1-install-nvidia-drivers",children:"1. Install NVIDIA Drivers"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Download the latest driver for your GPU"}),"\n",(0,l.jsx)(n.li,{children:"Run the installer as Administrator"}),"\n",(0,l.jsx)(n.li,{children:"Restart your computer"}),"\n",(0,l.jsxs)(n.li,{children:["Verify installation: ",(0,l.jsx)(n.code,{children:"nvidia-smi"})," in Command Prompt"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"2-install-nvidia-cuda-toolkit-for-wsl",children:"2. Install NVIDIA CUDA Toolkit for WSL"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# In WSL (Ubuntu 24.04)\nwget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2404/x86_64/cuda-keyring_1.1-1_all.deb\nsudo dpkg -i cuda-keyring_1.1-1_all.deb\nsudo apt-get update\nsudo apt-get -y install cuda-toolkit-12-4\n"})}),"\n",(0,l.jsx)(n.h4,{id:"3-verify-gpu-access-in-wsl",children:"3. Verify GPU Access in WSL"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check if GPU is visible\nnvidia-smi\n\n# Expected output:\n# +-----------------------------------------------------------------------------+\n# | NVIDIA-SMI 535.98                 Driver Version: 535.98                    |\n# |-------------------------------+----------------------+----------------------+\n# | GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n# | Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n# |                               |                      |               MIG M. |\n# |===============================+======================+======================|\n# |   0  NVIDIA GeForce RTX 4090  On   | 00000000:01:00.0  Off |                  N/A |\n# |  0%   45C    P8    25W /  450W |      0MiB /  24576MiB |      0%      Default |\n# |                               |                      |                  N/A |\n# +-------------------------------+----------------------+----------------------+\n"})}),"\n",(0,l.jsx)(n.h3,{id:"configuration-files",children:"Configuration Files"}),"\n",(0,l.jsx)(n.h4,{id:"wslconfig-windows",children:".wslconfig (Windows)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"[wsl2]\ngpuSupport=true\nmemory=16GB\nprocessors=8\n"})}),"\n",(0,l.jsx)(n.h4,{id:"environment-variables-wsl",children:"Environment Variables (WSL)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Add to ~/.bashrc\nexport CUDA_HOME=/usr/local/cuda\nexport PATH=$PATH:$CUDA_HOME/bin\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$CUDA_HOME/lib64\n"})}),"\n",(0,l.jsx)(n.h2,{id:"intel-arc-gpu-setup",children:"Intel Arc GPU Setup"}),"\n",(0,l.jsx)(n.h3,{id:"supported-hardware-1",children:"Supported Hardware"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Arc A7 Series"}),": A770, A750"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Arc A5 Series"}),": A580, A570, A560, A550"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Arc A3 Series"}),": A380, A370, A350, A310"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"driver-requirements-1",children:"Driver Requirements"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Minimum"}),": Intel Arc Driver 31.0.101.4502 or later"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Recommended"}),": Latest Intel Arc Driver"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Download"}),": ",(0,l.jsx)(n.a,{href:"https://www.intel.com/content/www/us/en/download/785597/intel-arc-iris-xe-graphics-whql-windows.html",children:"Intel Arc Driver Downloads"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"installation-steps-1",children:"Installation Steps"}),"\n",(0,l.jsx)(n.h4,{id:"1-install-intel-arc-drivers",children:"1. Install Intel Arc Drivers"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Download the latest Intel Arc driver"}),"\n",(0,l.jsx)(n.li,{children:"Run the installer as Administrator"}),"\n",(0,l.jsx)(n.li,{children:"Restart your computer"}),"\n",(0,l.jsx)(n.li,{children:"Verify installation in Device Manager"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"2-install-intel-opencl-runtime-and-oneapi-recommended",children:"2. Install Intel OpenCL Runtime and oneAPI (Recommended)"}),"\n",(0,l.jsx)(n.p,{children:"For optimal Intel GPU performance, install Intel's oneAPI toolkit:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# In WSL (Ubuntu 24.04)\n# Add Intel\'s GPG key\nwget -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB | \\\n  gpg --dearmor | sudo tee /usr/share/keyrings/oneapi-keyring.gpg > /dev/null\n\n# Add the oneAPI repository\necho "deb [signed-by=/usr/share/keyrings/oneapi-keyring.gpg] https://apt.repos.intel.com/oneapi all main" | \\\n  sudo tee /etc/apt/sources.list.d/oneAPI.list\n\n# Update and install Intel OpenCL runtime and oneAPI\nsudo apt update\nsudo apt install -y intel-opencl-icd intel-basekit\n\n# Configure permissions\nsudo usermod -a -G render $USER\nnewgrp render\n'})}),"\n",(0,l.jsx)(n.h4,{id:"3-alternative-install-opencl-runtime-only",children:"3. Alternative: Install OpenCL Runtime Only"}),"\n",(0,l.jsx)(n.p,{children:"If you prefer not to install the full oneAPI toolkit:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install OpenCL loader and tools\nsudo apt-get update\nsudo apt-get install -y ocl-icd-libopencl1 ocl-icd-opencl-dev opencl-headers clinfo\n\n# Add Intel Graphics PPA for latest drivers\nsudo apt-get install -y software-properties-common\nsudo add-apt-repository -y ppa:kobuk-team/intel-graphics\nsudo apt-get update\nsudo apt-get install -y libze-intel-gpu1 libze1 intel-opencl-icd\n"})}),"\n",(0,l.jsx)(n.h4,{id:"4-verify-gpu-access-in-wsl",children:"4. Verify GPU Access in WSL"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# Check OpenCL availability\nclinfo | grep "Platform Name"\n\n# Check GPU devices\nclinfo | grep "Device Name"\n\n# Expected output:\n# Platform Name                                Intel(R) OpenCL\n# Device Name                                  Intel(R) Arc(TM) A770 Graphics\n'})}),"\n",(0,l.jsx)(n.h3,{id:"configuration-files-1",children:"Configuration Files"}),"\n",(0,l.jsx)(n.h4,{id:"wslconfig-windows-1",children:".wslconfig (Windows)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"[wsl2]\ngpuSupport=true\nmemory=16GB\nprocessors=8\n"})}),"\n",(0,l.jsx)(n.h4,{id:"environment-variables-wsl-1",children:"Environment Variables (WSL)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Add to ~/.bashrc\nexport INTEL_OPENCL_CONFIG=/etc/OpenCL/vendors/intel.icd\n\n# For oneAPI users, source the environment\necho 'source /opt/intel/oneapi/setvars.sh' >> ~/.bashrc\n"})}),"\n",(0,l.jsx)(n.h2,{id:"intel-integrated-gpu-setup",children:"Intel Integrated GPU Setup"}),"\n",(0,l.jsx)(n.h3,{id:"supported-hardware-2",children:"Supported Hardware"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"12th Gen Intel"}),": UHD Graphics 730, UHD Graphics 770"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"13th Gen Intel"}),": UHD Graphics 770, UHD Graphics 730"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"14th Gen Intel"}),": UHD Graphics 770, UHD Graphics 730"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Intel Iris Xe"}),": Integrated graphics in 11th-14th gen processors"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"driver-requirements-2",children:"Driver Requirements"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Minimum"}),": Intel Graphics Driver 30.0.101.1190 or later"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Recommended"}),": Latest Intel Graphics Driver"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Download"}),": ",(0,l.jsx)(n.a,{href:"https://www.intel.com/content/www/us/en/download/785597/intel-arc-iris-xe-graphics-whql-windows.html",children:"Intel Graphics Driver Downloads"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"installation-steps-2",children:"Installation Steps"}),"\n",(0,l.jsx)(n.h4,{id:"1-install-intel-graphics-drivers",children:"1. Install Intel Graphics Drivers"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Download the latest Intel Graphics driver"}),"\n",(0,l.jsx)(n.li,{children:"Run the installer as Administrator"}),"\n",(0,l.jsx)(n.li,{children:"Restart your computer"}),"\n",(0,l.jsx)(n.li,{children:"Verify installation in Device Manager"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"2-install-intel-opencl-runtime",children:"2. Install Intel OpenCL Runtime"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# In WSL (Ubuntu 24.04)\nsudo apt-get update\nsudo apt-get install -y intel-opencl-icd\n"})}),"\n",(0,l.jsx)(n.h4,{id:"3-verify-gpu-access-in-wsl-1",children:"3. Verify GPU Access in WSL"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# Check OpenCL availability\nclinfo | grep "Platform Name"\n\n# Check GPU devices\nclinfo | grep "Device Name"\n\n# Expected output:\n# Platform Name                                Intel(R) OpenCL\n# Device Name                                  Intel(R) UHD Graphics 770\n'})}),"\n",(0,l.jsx)(n.h2,{id:"gpu-detection-scripts",children:"GPU Detection Scripts"}),"\n",(0,l.jsx)(n.h3,{id:"automatic-detection-powershell",children:"Automatic Detection (PowerShell)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:'# detect_gpu.ps1\n$gpuInfo = Get-WmiObject -Class Win32_VideoController | Select-Object Name, AdapterRAM, DriverVersion\n\nforeach ($gpu in $gpuInfo) {\n    if ($gpu.Name -match "NVIDIA") {\n        Write-Host "NVIDIA GPU detected: $($gpu.Name)"\n        # Run NVIDIA setup\n    }\n    elseif ($gpu.Name -match "Intel.*Arc") {\n        Write-Host "Intel Arc GPU detected: $($gpu.Name)"\n        # Run Intel Arc setup\n    }\n    elseif ($gpu.Name -match "Intel.*UHD|Intel.*Iris") {\n        Write-Host "Intel Integrated GPU detected: $($gpu.Name)"\n        # Run Intel Integrated setup\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"gpu-setup-scripts",children:"GPU Setup Scripts"}),"\n",(0,l.jsx)(n.h4,{id:"nvidia-setup-setup_nvidia_gpush",children:"NVIDIA Setup (setup_nvidia_gpu.sh)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\n# setup_nvidia_gpu.sh\n\necho \"Setting up NVIDIA GPU acceleration...\"\n\n# Install CUDA toolkit\nsudo apt-get update\nsudo apt-get install -y cuda-toolkit-12-4\n\n# Configure environment\necho 'export CUDA_HOME=/usr/local/cuda' >> ~/.bashrc\necho 'export PATH=$PATH:$CUDA_HOME/bin' >> ~/.bashrc\necho 'export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$CUDA_HOME/lib64' >> ~/.bashrc\n\n# Test GPU access\nnvidia-smi\n\necho \"NVIDIA GPU setup complete!\"\n"})}),"\n",(0,l.jsx)(n.h4,{id:"intel-arc-setup-setup_intel_arc_gpush",children:"Intel Arc Setup (setup_intel_arc_gpu.sh)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# setup_intel_arc_gpu.sh\n\necho "Setting up Intel Arc GPU acceleration..."\n\n# Install oneAPI for optimal performance\nwget -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB | \\\n  gpg --dearmor | sudo tee /usr/share/keyrings/oneapi-keyring.gpg > /dev/null\n\necho "deb [signed-by=/usr/share/keyrings/oneapi-keyring.gpg] https://apt.repos.intel.com/oneapi all main" | \\\n  sudo tee /etc/apt/sources.list.d/oneAPI.list\n\nsudo apt update\nsudo apt install -y intel-opencl-icd intel-basekit\n\n# Configure permissions\nsudo usermod -a -G render $USER\nnewgrp render\n\n# Configure environment\necho \'source /opt/intel/oneapi/setvars.sh\' >> ~/.bashrc\necho \'export INTEL_OPENCL_CONFIG=/etc/OpenCL/vendors/intel.icd\' >> ~/.bashrc\n\n# Test GPU access\nclinfo | grep "Device Name"\n\necho "Intel Arc GPU setup complete!"\n'})}),"\n",(0,l.jsx)(n.h4,{id:"intel-integrated-setup-setup_intel_integrated_gpush",children:"Intel Integrated Setup (setup_intel_integrated_gpu.sh)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# setup_intel_integrated_gpu.sh\n\necho "Setting up Intel Integrated GPU acceleration..."\n\n# Install OpenCL runtime\nsudo apt-get update\nsudo apt-get install -y intel-opencl-icd\n\n# Configure environment\necho \'export INTEL_OPENCL_CONFIG=/etc/OpenCL/vendors/intel.icd\' >> ~/.bashrc\n\n# Test GPU access\nclinfo | grep "Device Name"\n\necho "Intel Integrated GPU setup complete!"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"advanced-intel-gpu-setup-for-ai-workloads",children:"Advanced Intel GPU Setup for AI Workloads"}),"\n",(0,l.jsx)(n.h3,{id:"building-llamacpp-with-intel-gpu-support",children:"Building llama.cpp with Intel GPU Support"}),"\n",(0,l.jsx)(n.p,{children:"For optimal Intel GPU performance with AI models, build llama.cpp with SYCL support:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install build dependencies\nsudo apt-get install -y build-essential cmake libcurl4-openssl-dev\n\n# Clone llama.cpp\ngit clone https://github.com/ggerganov/llama.cpp.git\ncd llama.cpp\n\n# Source oneAPI environment (required for SYCL build)\nsource /opt/intel/oneapi/setvars.sh\n\n# Build with SYCL support\nrm -rf build\nmkdir -p build && cd build\ncmake .. -DGGML_SYCL=ON -DCMAKE_C_COMPILER=icx -DCMAKE_CXX_COMPILER=icpx\nmake -j$(nproc)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"testing-intel-gpu-acceleration",children:"Testing Intel GPU Acceleration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# Download a sample model\nmkdir -p ../models\ncd ../models\nwget https://huggingface.co/Qwen/Qwen2.5-0.5B-Instruct-GGUF/resolve/main/qwen2.5-0.5b-instruct-q8_0.gguf\n\n# Test inference with GPU offloading\ncd ../build\nsource /opt/intel/oneapi/setvars.sh\n./bin/llama-cli \\\n    -m ../models/qwen2.5-0.5b-instruct-q8_0.gguf \\\n    -p "Hello, how are you?" \\\n    -n 128 \\\n    -ngl 999  # Offload all layers to GPU\n'})}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"common-gpu-issues",children:"Common GPU Issues"}),"\n",(0,l.jsx)(n.h4,{id:"gpu-not-detected-in-wsl",children:"GPU Not Detected in WSL"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check WSL version\nwsl --list --verbose\n\n# Ensure WSL2 is being used\nwsl --set-version Ubuntu-24.04 2\n\n# Check GPU support\nwsl --status\n"})}),"\n",(0,l.jsx)(n.h4,{id:"driver-compatibility-issues",children:"Driver Compatibility Issues"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Update Windows"}),": Ensure Windows 11 is fully updated"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Update WSL"}),": ",(0,l.jsx)(n.code,{children:"wsl --update"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Reinstall drivers"}),": Remove and reinstall GPU drivers"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Check compatibility"}),": Verify GPU supports WSL2 virtualization"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"intel-gpu-specific-issues",children:"Intel GPU Specific Issues"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check OpenCL installation\nclinfo\n\n# Verify oneAPI environment (if installed)\nsource /opt/intel/oneapi/setvars.sh\nsycl-ls\n\n# Check permissions\ngroups $USER\n# Should show 'render' in the list\n"})}),"\n",(0,l.jsx)(n.h4,{id:"performance-issues",children:"Performance Issues"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Memory allocation"}),": Increase WSL memory in .wslconfig"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Processor allocation"}),": Allocate more CPU cores"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"GPU memory"}),": Ensure sufficient GPU VRAM"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Background processes"}),": Close unnecessary applications"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"gpu-status-verification",children:"GPU Status Verification"}),"\n",(0,l.jsx)(n.h4,{id:"nvidia-gpu",children:"NVIDIA GPU"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check GPU status\nnvidia-smi\n\n# Check CUDA availability\nnvcc --version\n\n# Test CUDA functionality\ncuda-install-samples-12.4.sh ~\ncd ~/NVIDIA_CUDA-12.4_Samples/1_Utilities/deviceQuery\nmake\n./deviceQuery\n"})}),"\n",(0,l.jsx)(n.h4,{id:"intel-gpu",children:"Intel GPU"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check OpenCL availability\nclinfo\n\n# Check GPU information\nlspci | grep -i vga\n\n# Test OpenCL functionality\nsudo apt-get install -y ocl-icd-opencl-dev\n"})}),"\n",(0,l.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,l.jsx)(n.h3,{id:"wsl-configuration-wslconfig",children:"WSL Configuration (.wslconfig)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"[wsl2]\ngpuSupport=true\nmemory=32GB\nprocessors=16\nswap=8GB\nlocalhostForwarding=true\n"})}),"\n",(0,l.jsx)(n.h3,{id:"environment-optimization",children:"Environment Optimization"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Add to ~/.bashrc\nexport CUDA_CACHE_DISABLE=0\nexport CUDA_CACHE_MAXSIZE=1073741824\nexport INTEL_OPENCL_CONFIG=/etc/OpenCL/vendors/intel.icd\n\n# For oneAPI users\necho 'source /opt/intel/oneapi/setvars.sh' >> ~/.bashrc\n"})}),"\n",(0,l.jsx)(n.h3,{id:"gpu-memory-management",children:"GPU Memory Management"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"NVIDIA"}),": Use ",(0,l.jsx)(n.code,{children:"nvidia-smi"})," to monitor GPU memory usage"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Intel"}),": Monitor through Windows Task Manager"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Optimization"}),": Close unnecessary GPU applications"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"support-and-resources",children:"Support and Resources"}),"\n",(0,l.jsx)(n.h3,{id:"official-documentation",children:"Official Documentation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.nvidia.com/cuda/",children:"NVIDIA CUDA Documentation"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.intel.com/content/www/us/en/developer/tools/opencl/overview.html",children:"Intel OpenCL Documentation"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.intel.com/content/www/us/en/developer/tools/oneapi/overview.html",children:"Intel oneAPI Documentation"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows/wsl/tutorials/gpu-compute",children:"Microsoft WSL GPU Support"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"community-resources",children:"Community Resources"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://forums.developer.nvidia.com/",children:"NVIDIA Developer Forums"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://community.intel.com/",children:"Intel Community Forums"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/microsoft/WSL/issues",children:"WSL GitHub Issues"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"troubleshooting-tools",children:"Troubleshooting Tools"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"GPU-Z"}),": Detailed GPU information and monitoring"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"MSI Afterburner"}),": GPU monitoring and overclocking"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"HWiNFO"}),": Comprehensive system information"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Windows Performance Monitor"}),": System performance analysis"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Last Updated"}),": August 7th, 2025",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Version"}),": Compatible with Kamiwaza v0.5.0",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Support"}),": ",(0,l.jsx)(n.a,{href:"/#need-help",children:"Contact our support team"})]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var s=i(96540);const l={},r=s.createContext(l);function t(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);